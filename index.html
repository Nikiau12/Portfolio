<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

<title>Nikita Kotrelev — Cinematographer & Photographer</title>
  <meta name="description" content="Cinematographer & photographer. Selected works, projects, and new releases." />
  <meta property="og:title" content="Nikita Kotrelev — Portfolio" />
  <meta property="og:description" content="Cinematographer & photographer. Selected works, projects, and new releases." />
  <meta property="og:type" content="website" />
  <link rel="icon" href="img/pag 5.png" type="image/png">

  
   <!-- GA4 (Google tag / gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H5VD0NFFWW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-H5VD0NFFWW');
  </script>

  <!-- Cookie banner (Cookie-Script) -->
 <script type="text/javascript" charset="UTF-8" src="//cdn.cookie-script.com/s/0fadb6b0381b2e0bf3c5aaeb9fca7bec.js"></script>


  

  <style>
    :root {
      --bg:#0b0b0b; --fg:#fafafa; --muted:#a1a1aa; --card:#111113; --border:#242428; --accent:#3d40f9;
      --radius:16px; --space:24px; --safe-top:max(env(safe-area-inset-top),0px); --safe-bot:max(env(safe-area-inset-bottom),0px);
    }

    @font-face {
      font-family: 'Afacad Flux';
      src: local('Afacad Flux Regular'),
           url('fonts/AfacadFlux-Regular.woff2') format('woff2'),
           url('fonts/AfacadFlux-Regular.woff') format('woff');
      font-weight: 400; font-style: normal; font-display: swap;
    }

    html, body { height: 100%; }
    html { color-scheme: dark; }
    body {
      margin: 0;
      font-family: 'Afacad Flux', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
      background: var(--bg);
      color: var(--fg);
      display: grid;
      grid-template-rows: auto 1fr auto;
      min-height: 100dvh;
      -webkit-tap-highlight-color: transparent;
    }

    /* ===== HERO ===== */
    .hero {
      position: relative;
      height: 92dvh;
      min-height: 560px;
      overflow: clip;
      isolation: isolate;
    }
    @supports (height: 100svh) { .hero { height: 88svh; min-height: 68svh; } }
    @supports (height: 100lvh) { .hero { height: 88lvh; } }

    .hero video {
      position: absolute; inset: 0; width: 100%; height: 100%;
      object-fit: cover;
    }

    .scrim {
      position: absolute; inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,.55) 0%, rgba(0,0,0,.35) 35%, rgba(0,0,0,.6) 100%);
      z-index: 0; pointer-events: none;
    }

    /* ===== HEADER inside hero ===== */
    header {
      position: absolute; inset: 0; z-index: 1;
      display: grid; grid-template-rows: auto 1fr;
      padding-top: var(--safe-top);
      padding-bottom: var(--safe-bot);
      min-height: 100%;
      box-sizing: border-box;
    }

    .nav {
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px 24px;
      max-width: 1200px;
      margin: 0 auto;
      gap: 16px;
      width: 100%;
      box-sizing: border-box;
    }
    .brand {
      font-weight: 600;
      letter-spacing: .08em;
      text-decoration: none;
      color: var(--fg);
      white-space: nowrap;
      flex: 0 0 auto;
    }
    .links {
      display: flex;
      gap: 8px;
      align-items: center;
      justify-content: flex-end;
      flex-wrap: nowrap;
      overflow-x: auto;
      overscroll-behavior-inline: contain;
      scrollbar-width: none;
      max-width: 100%;
    }
    .links::-webkit-scrollbar { display: none; }
    .nav a {
      color: var(--fg);
      text-decoration: none;
      opacity: .85;
      padding: 10px 12px;
      border-radius: 999px;
      white-space: nowrap;
      flex: 0 0 auto;
    }
    .nav a:hover { opacity: 1; background: rgba(255,255,255,.06); }

    .hero-copy {
      display: grid;
      place-items: end start;
      padding: 24px;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
      box-sizing: border-box;
      min-width: 0;
      padding-bottom: calc(24px + var(--safe-bot));
      will-change: transform, opacity;
    }
    .hero h1 {
      font-size: clamp(36px, 7vw, 80px);
      line-height: .98;
      margin: 0 0 12px;
      max-width: 22ch;
    }
    .hero p  {
      font-size: clamp(15px, 2.5vw, 20px);
      color: var(--muted);
      margin: 0;
      line-height: 1.4;
      max-width: 60ch;
    }

    /* ===== Sections ===== */
    .section { padding: 56px 24px; }
    .container { max-width: 1320px; margin: 0 auto; }
    .section h2 { font-size: clamp(26px, 3.6vw, 42px); margin: 0 0 8px; }
    .section .lead { color: var(--muted); margin: 0 0 24px; font-size: 18px; }

    /* ===== Footer ===== */
    footer { border-top: 1px solid var(--border); color: var(--muted); padding: 24px; }
    footer .row { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; gap: 12px; }

    /* =========================================================
       ===== Updates Tabs + Cards (generated) =====
       ========================================================= */
    .tabs-wrap{ max-width:1320px; margin:0 auto; }
    .tabs-head{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin:16px 0 18px;
    }
    .tabbtn{
      appearance:none;
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
      color:var(--fg);
      opacity:1;
      padding:10px 14px;
      border-radius:999px;
      cursor:default;
      font-family:inherit;
      font-size:14px;
      white-space:nowrap;
    }

    .news-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
      gap:16px;
    }
    .news-card{
      border:1px solid var(--border);
      background:var(--card);
      border-radius:var(--radius);
      overflow:hidden;
      display:grid;
      grid-template-columns: 140px 1fr;
      min-height:120px;
      text-decoration:none;
      color:inherit;
      transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
      cursor:pointer;
    }
    .news-card:hover{
      transform:translateY(-4px);
      box-shadow:0 14px 40px rgba(0,0,0,.55);
      border-color:rgba(255,255,255,.08);
    }
    .news-thumb{ background:#000; overflow:hidden; }
    .news-thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transform:scale(1);
      transition:transform .6s ease;
    }
    .news-card:hover .news-thumb img{transform:scale(1.06);}

    .news-body{
      padding:14px 14px 14px 16px;
      display:grid;
      gap:8px;
      align-content:start;
    }
    .news-top{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      color:var(--muted);
      font-size:13px;
    }
    .chip{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.03);
      border-radius:999px;
      padding:6px 10px;
      font-size:12px;
      color:var(--muted);
      line-height:1;
    }
    .news-title{
      margin:0;
      font-size:16px;
      font-weight:600;
      line-height:1.2;
    }
    .news-text{
      margin:0;
      color:var(--muted);
      font-size:14px;
      line-height:1.45;
    }

    @media (max-width: 920px){
      .news-grid{grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));}
    }
    @media (max-width: 640px){
      .news-grid{grid-template-columns: 1fr;}
      .news-card{grid-template-columns: 1fr;}
      .news-thumb{aspect-ratio: 16/9;}
    }

    /* =========================================================
       ✅ MOBILE: make everything readable, no cropping
       ========================================================= */
    @media (max-width: 640px){
      /* hero becomes flexible height */
      .hero{
        height: auto;
        min-height: 100svh;
        overflow: hidden;
      }

      /* header not absolute on mobile (prevents cropping) */
      header{
        position: relative;
        inset: auto;
        min-height: 100svh;
        padding-bottom: calc(20px + var(--safe-bot));
      }

      /* nav stacks: brand top, buttons below */
      .nav{
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        padding: 12px 12px;
        gap: 10px;
      }

      /* links wrap, no horizontal cutting */
      .links{
        width: 100%;
        flex-wrap: wrap;
        overflow: visible;
        justify-content: flex-start;
      }

      .nav a{
        padding: 10px 12px;
        font-size: 14px;
      }
      .brand{
        font-size: 14px;
      }

      /* hero copy smaller and always visible */
      .hero-copy{
        padding: 14px 12px 0;
        place-items: end start;
      }
      .hero h1{
        font-size: 34px;
        line-height: 1.05;
        margin: 0 0 10px;
        max-width: 22ch;
      }
      .hero p{
        font-size: 14px;
        line-height: 1.38;
        margin: 0;
        max-width: 46ch;
      }

      .hero video{
        object-position: 50% 28%;
      }
    }

    /* =========================================================
       ===== Updates Lightbox (text + photos)
       ========================================================= */
    .u-lb{
      position:fixed; inset:0;
      background:rgba(0,0,0,.92);
      display:none;
      z-index:90;
    }
    .u-lb[aria-hidden="false"]{display:grid}
    .u-lb__inner{
      width:min(1100px, 100%);
      margin:auto;
      padding:24px;
      box-sizing:border-box;
    }
    .u-lb__panel{
      border:1px solid var(--border);
      background:rgba(17,17,19,.92);
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow:0 20px 60px rgba(0,0,0,.65);
      display:grid;
      grid-template-rows:auto 1fr;
      max-height:min(86vh, 900px);
    }

    .u-lb__top{
      padding:16px 16px 14px;
      border-bottom:1px solid rgba(255,255,255,.06);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }
    .u-lb__meta{
      display:grid;
      gap:8px;
      min-width:0;
    }
    .u-lb__kicker{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      color:var(--muted);
      font-size:13px;
    }
    .u-lb__h{
      margin:0;
      font-size:20px;
      font-weight:600;
      line-height:1.2;
    }

    .u-lb__action{
      appearance:none;
      border:1px solid rgba(255,255,255,.14);
      background:var(--fg);
      color:#0a0a0a;
      border-radius:999px;
      padding:10px 12px;
      cursor:pointer;
      font-size:14px;
      line-height:1;
      text-decoration:none;
      white-space:nowrap;
      transition:transform .15s ease, opacity .15s ease;
    }
    .u-lb__action:hover{transform:translateY(-1px)}
    .u-lb__action[hidden]{display:none !important;}

    .u-lb__close{
      appearance:none;
      border:1px solid var(--border);
      background:rgba(255,255,255,.08);
      color:var(--fg);
      border-radius:999px;
      padding:10px 12px;
      cursor:pointer;
      font-size:14px;
      line-height:1;
      white-space:nowrap;
    }
    .u-lb__close:hover{background:rgba(255,255,255,.12)}

    .u-lb__content{
      padding:16px;
      display:grid;
      gap:14px;
      overflow:auto;
    }
    .u-lb__text{
      color:var(--muted);
      font-size:15px;
      line-height:1.55;
      margin:0;
    }

    .u-lb__gallery{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap:10px;
    }
    .u-lb__gallery img{
      width:100%;
      height:200px;
      object-fit:cover;
      display:block;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.06);
      cursor:pointer;
      background:#000;
    }

    @media (max-width: 980px){
      .u-lb__gallery{grid-template-columns: repeat(2, minmax(0,1fr));}
      .u-lb__gallery img{height:190px;}
    }
    @media (max-width: 640px){
      .u-lb__inner{padding:12px;}
      .u-lb__panel{max-height:88vh;}
      .u-lb__gallery{grid-template-columns: 1fr;}
      .u-lb__gallery img{height:auto; aspect-ratio: 4/3;}
      .u-lb__h{font-size:18px;}
    }

    .u-lb__zoom{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.92);
      display:none;
      z-index:95;
      padding:24px;
      box-sizing:border-box;
    }
    .u-lb__zoom[aria-hidden="false"]{display:grid}
    .u-lb__zoom img{
      max-width:96vw;
      max-height:86vh;
      width:auto;
      height:auto;
      margin:auto;
      object-fit:contain;
      cursor:pointer;
    }
  </style>
</head>

<body>


  <!-- HERO -->
  <section class="hero" aria-label="Showreel">
    <video id="bg-video" autoplay muted loop playsinline preload="auto" poster="img/Showreel-21.jpg">
      <source src="img/GEORGIAN.mp4" type="video/mp4" />
    </video>
    <div class="scrim" aria-hidden="true"></div>

    <header>
      <nav class="nav" aria-label="Primary">
        <a class="brand" href="/">NIKITA KOTRELEV</a>
        <div class="links">
          <a href="/Video.html">Video</a>
          <a href="/Photos.html">Photos</a>
          <a href="/Projects.html">Projects</a>
          <a href="/About me.html">About</a>
          <a href="Store.html">Store</a>
        </div>
      </nav>

      <div class="hero-copy" id="heroCopy">
        <div>
          <h1>Strong visuals for brands & stories</h1>
          <p>Cinematographer · Photographer — narrative, commercials, music videos.</p>
        </div>
      </div>
    </header>
  </section>

  <!-- UPDATES / NEWS -->
  <section class="section" id="news">
    <div class="container tabs-wrap">
      <h2>Updates</h2>
      <p class="lead">Exhibitions, nominations, releases, and announcements.</p>

      <div class="tabs-head" role="tablist" aria-label="Updates tabs">
        <button class="tabbtn" role="tab" id="tab-exh" aria-controls="panel-exh" aria-selected="true" type="button">
          Exhibitions
        </button>
      </div>

      <div id="panel-exh" class="tabpanel" role="tabpanel" aria-labelledby="tab-exh" aria-hidden="false">
        <div class="news-grid" id="news-exh"></div>
      </div>
    </div>
  </section>

  <!-- UPDATES LIGHTBOX -->
  <div class="u-lb" id="uLb" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="uLbTitle">
    <div class="u-lb__inner">
      <div class="u-lb__panel">
        <div class="u-lb__top">
          <div class="u-lb__meta">
            <div class="u-lb__kicker" id="uLbKicker"></div>
            <h3 class="u-lb__h" id="uLbTitle"></h3>
          </div>

          <div style="display:flex; gap:10px; align-items:center;">
            <a class="u-lb__action" id="uLbAction" href="#" target="_self" rel="noopener" hidden>Open</a>
            <button class="u-lb__close" id="uLbClose" type="button" aria-label="Close">✕ Close</button>
          </div>
        </div>

        <div class="u-lb__content">
          <p class="u-lb__text" id="uLbText"></p>
          <div class="u-lb__gallery" id="uLbGallery"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Zoom overlay -->
  <div class="u-lb__zoom" id="uZoom" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Image zoom">
    <img id="uZoomImg" alt="Zoomed image">
  </div>

  <footer>
    <div class="row">
      <span>© <span id="year"></span> Nikita Kotrelev</span>
    </div>
  </footer>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== Reduced motion: stop autoplay if needed
    (function(){
      const v = document.getElementById('bg-video');
      if (!v) return;
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        v.removeAttribute('autoplay');
        v.pause();
      }
    })();

    // ===== Reveal on scroll
    const io = new IntersectionObserver((entries)=>{
      entries.forEach((entry)=>{
        if(entry.isIntersecting){
          entry.target.style.opacity = 1;
          entry.target.style.transform = 'none';
          io.unobserve(entry.target);
        }
      });
    }, { threshold: 0.15 });

    // =========================================================
    // UPDATES DATA (one-line per news)
    // =========================================================
    const UPDATES = [
      {
        id: "site-store-launch",
        type: "exhibition",
        title: "Store is live — prints available",
        date: "Jan 2026",
        location: "Online",
        tag: "Store",
        cover: "img/HrGgGNYNVDo (3).png",
        photos: [
          "img/HrGgGNYNVDo (3).png",
          "img/Копия HrGgGNYNVDo (1).png",
          "img/HrGgGNYNVDo (1).png"
        ],
        text: "My store is now live on the website — you can browse and buy my prints directly. Open Store in the menu to explore the collection.",
        action: { label: "Open Store", href: "Store.html", target: "_self" }
      },
      {
        id: "exh-city-rhythm",
        type: "exhibition",
        title: "Solo exhibition — “AU-DELÀ DE LA RUSSIE”",
        date: "29 November - 24 December 2024",
        location: "Paris",
        tag: "Exhibition",
        cover: "img/Имя документа hf_29.jpg",
        photos: [
          "img/Имя документа hf_29.jpg",
          "img/Имя документа hf_26.jpg",
          "img/Франция 2022 500 евро.jpeg",
          "img/DSC07474.jpg",
          "img/грузия 2024 400 .jpg",
          "img/грузия военная дорога 2024IMG_0285 54.jpg",
          "img/FullSizeRender.jpg",
          "img/грузия военная дорога 2024IMG_0280 21.jpg",
          "img/черногория 2024 300 е.JPG",
          "img/грузия 2023 500.jpg"
        ],
        text: "As part of this project, I explored the themes of memory, loss and the restoration of identity with great sensitivity."
      }
    ];

    // =========================================================
    // Generate Updates HTML
    // =========================================================
    const GRID_EXH = document.getElementById('news-exh');
    const TYPE_LABEL = { exhibition: "Exhibition", nomination: "Nomination", release: "Release" };

    function escapeHtml(s){
      return String(s ?? "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function cardHTML(item){
      const chip = item.tag || TYPE_LABEL[item.type] || "Update";
      const loc = item.location ? `<span>${escapeHtml(item.location)}</span><span>•</span>` : "";
      const date = item.date ? `<span>${escapeHtml(item.date)}</span>` : "";
      const desc = item.text ? escapeHtml(item.text).slice(0, 92) + (item.text.length > 92 ? "…" : "") : "";
      return `
        <article class="news-card" role="button" tabindex="0" data-open-update="${escapeHtml(item.id)}" aria-label="Open update: ${escapeHtml(item.title)}">
          <div class="news-thumb">
            <img src="${escapeHtml(item.cover)}" alt="${escapeHtml(item.title)}" loading="lazy" decoding="async">
          </div>
          <div class="news-body">
            <div class="news-top">
              <span class="chip">${escapeHtml(chip)}</span>
              ${loc}
              ${date}
            </div>
            <h3 class="news-title">${escapeHtml(item.title)}</h3>
            <p class="news-text">${desc}</p>
          </div>
        </article>
      `;
    }

    function renderUpdates(){
      if(!GRID_EXH) return;
      GRID_EXH.innerHTML = "";

      UPDATES
        .filter(u => u.type === "exhibition")
        .forEach((u)=>{
          GRID_EXH.insertAdjacentHTML('beforeend', cardHTML(u));
        });

      document.querySelectorAll('.news-card').forEach((el)=>{
        el.style.opacity = 0;
        el.style.transform = 'translateY(12px)';
        el.style.transition = 'opacity .25s ease, transform .25s ease';
        io.observe(el);
      });
    }
    renderUpdates();

    // =========================================================
    // Updates Lightbox (open/close)
    // =========================================================
    const uLb = document.getElementById('uLb');
    const uLbClose = document.getElementById('uLbClose');
    const uLbTitle = document.getElementById('uLbTitle');
    const uLbKicker = document.getElementById('uLbKicker');
    const uLbText = document.getElementById('uLbText');
    const uLbGallery = document.getElementById('uLbGallery');
    const uLbAction = document.getElementById('uLbAction');

    const uZoom = document.getElementById('uZoom');
    const uZoomImg = document.getElementById('uZoomImg');

    function openUpdate(id){
      const item = UPDATES.find(x => x.id === id);
      if(!item) return;

      const chip = item.tag || TYPE_LABEL[item.type] || "Update";
      const parts = [];
      parts.push(`<span class="chip">${escapeHtml(chip)}</span>`);
      if(item.location) parts.push(`<span>${escapeHtml(item.location)}</span>`);
      if(item.date) parts.push(`<span>•</span><span>${escapeHtml(item.date)}</span>`);

      uLbKicker.innerHTML = parts.join("");
      uLbTitle.textContent = item.title || "";
      uLbText.textContent = item.text || "";

      const photos = Array.isArray(item.photos) ? item.photos.slice(0,30) : [];
      uLbGallery.innerHTML = photos.map((src, idx)=>{
        return `<img src="${escapeHtml(src)}" alt="${escapeHtml(item.title)} — photo ${idx+1}" data-zoom-src="${escapeHtml(src)}" loading="lazy" decoding="async">`;
      }).join("");

      if (uLbAction){
        if (item.action && item.action.href){
          uLbAction.hidden = false;
          uLbAction.textContent = item.action.label || "Open";
          uLbAction.href = item.action.href;
          uLbAction.target = item.action.target || "_self";
        } else {
          uLbAction.hidden = true;
          uLbAction.textContent = "Open";
          uLbAction.href = "#";
          uLbAction.target = "_self";
        }
      }

      uLb.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      uLbClose.focus();
    }

    function closeUpdate(){
      uLb.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      uLbGallery.innerHTML = "";
      uLbTitle.textContent = "";
      uLbText.textContent = "";
      uLbKicker.innerHTML = "";

      if (uLbAction){
        uLbAction.hidden = true;
        uLbAction.textContent = "Open";
        uLbAction.href = "#";
        uLbAction.target = "_self";
      }
    }

    function openZoom(src){
      if(!src) return;
      uZoomImg.src = src;
      uZoom.setAttribute('aria-hidden','false');
    }
    function closeZoom(){
      uZoom.setAttribute('aria-hidden','true');
      uZoomImg.src = "";
    }

    document.addEventListener('click', (e)=>{
      const c = e.target.closest('[data-open-update]');
      if(c){
        openUpdate(c.getAttribute('data-open-update'));
        return;
      }
      const z = e.target.closest('#uLbGallery img[data-zoom-src]');
      if(z){
        openZoom(z.getAttribute('data-zoom-src'));
        return;
      }
    });

    document.addEventListener('keydown', (e)=>{
      const el = document.activeElement;
      if(el && el.matches && el.matches('[data-open-update]')){
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          openUpdate(el.getAttribute('data-open-update'));
        }
      }
      if(e.key === 'Escape'){
        if(uZoom.getAttribute('aria-hidden') === 'false') closeZoom();
        else if(uLb.getAttribute('aria-hidden') === 'false') closeUpdate();
      }
    });

    uLbClose.addEventListener('click', closeUpdate);
    uLb.addEventListener('click', (e)=>{ if(e.target === uLb) closeUpdate(); });

    uZoom.addEventListener('click', closeZoom);
    uZoomImg.addEventListener('click', closeZoom);

    // ===== Video pause/play on visibility
    (function(){
      const v = document.getElementById('bg-video');
      if(!v) return;

      function pauseIfPossible(){ try{ if(!v.paused) v.pause(); }catch{} }
      function playIfPossible(){ try{ v.play().catch(()=>{}); }catch{} }

      document.addEventListener('visibilitychange', ()=>{
        if(document.hidden) pauseIfPossible();
        else playIfPossible();
      });
      window.addEventListener('blur', pauseIfPossible);
      window.addEventListener('focus', playIfPossible);
      window.addEventListener('pagehide', pauseIfPossible);
      window.addEventListener('pageshow', playIfPossible);
    })();

    // ===== Desktop parallax for hero text
    (function(){
      const copy = document.getElementById('heroCopy');
      if(!copy) return;
      const isDesktop = window.matchMedia('(min-width: 921px)').matches;
      if(!isDesktop) return;

      let ticking = false;
      function onScroll(){
        if(ticking) return;
        ticking = true;
        requestAnimationFrame(()=>{
          const y = window.scrollY || 0;
          const shift = Math.min(y * 0.12, 28);
          const fade  = Math.max(1 - y / 600, 0.85);
          copy.style.transform = `translateY(${shift}px)`;
          copy.style.opacity = fade.toFixed(3);
          ticking = false;
        });
      }
      window.addEventListener('scroll', onScroll, {passive:true});
      onScroll();
    })();
  </script>
</body>
</html>
