<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Nikita Kotrelev — Photos</title>
  <link rel="icon" href="img/favicon.png" type="image/png">

  <style>
    :root{
      --bg:#0b0b0b; --fg:#fafafa; --muted:#a1a1aa; --border:#242428;
      --safe-top:max(env(safe-area-inset-top),0px);
      --safe-bot:max(env(safe-area-inset-bottom),0px);
      --header-h:64px; /* будет перезаписано JS на реальную высоту */
    }

    @font-face{
      font-family:'Afacad Flux';
      src:url('fonts/AfacadFlux-Regular.woff2') format('woff2');
      font-weight:400;
      font-style:normal;
      font-display:swap;
    }

    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font-family:'Afacad Flux',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial,'Noto Sans',sans-serif;
      min-height:100dvh;
      display:grid;
      grid-template-rows:auto 1fr auto;
      -webkit-tap-highlight-color: transparent;
    }

    /* HEADER */
    header{
      position:fixed; top:0; left:0; right:0;
      padding-top:var(--safe-top);
      backdrop-filter:blur(8px);
      background:rgba(10,10,10,.65);
      border-bottom:1px solid var(--border);
      z-index:20;
    }
    .nav{
      max-width:1200px;
      margin:0 auto;
      padding:14px 24px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      box-sizing:border-box;
    }
    .brand{
      color:var(--fg);
      text-decoration:none;
      font-weight:600;
      letter-spacing:.08em;
      white-space:nowrap;
      flex:0 0 auto;
    }
    .links{
      display:flex;
      gap:10px;
      overflow-x:auto;
      overscroll-behavior-inline: contain;
      scrollbar-width:none;
      max-width:100%;
    }
    .links::-webkit-scrollbar{ display:none; }
    .links a{
      color:var(--fg);
      text-decoration:none;
      padding:8px 12px;
      opacity:.85;
      border-radius:999px;
      white-space:nowrap;
      flex:0 0 auto;
    }
    .links a:hover{
      opacity:1;
      background:rgba(255,255,255,.1);
    }
    .links a[aria-current="page"]{
      background:rgba(255,255,255,.12);
      opacity:1;
    }

    /* GRID */
    #aw-grid{
      padding-top: calc(var(--header-h) + 24px);
      padding-bottom: calc(24px + var(--safe-bot));
      width:min(1500px, 92%);
      margin:0 auto;
      display:grid;
      grid-template-columns:repeat(auto-fill, 180px);
      gap:20px;
      justify-content:center;
    }

    .aw-item{
      width:180px;
      height:180px;
      cursor:pointer;
    }
    .aw-item img{
      width:100%;
      height:100%;
      object-fit:cover;
      border-radius:0;
      display:block;
    }

    /* LIGHTBOX (без крестика) */
    .lightbox{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.92);
      display:none;
      z-index:200;
      align-items:center;
      justify-content:center;
      padding: calc(16px + var(--safe-top)) 16px calc(16px + var(--safe-bot));
      box-sizing:border-box;
    }
    .lightbox[aria-hidden="false"]{display:flex;}

    .lightbox__inner{
      max-width:90vw;
      max-height:90vh;
      width:100%;
      display:grid;
      place-items:center;
    }

    /* ✅ клик по фото = закрыть */
    .lightbox__img{
      display:block;
      margin:auto;
      width:auto;
      height:auto;
      max-width:100%;
      max-height:90vh;
      object-fit:contain;
      border-radius:0;
      cursor:pointer;
    }

    footer{
      color:var(--muted);
      text-align:center;
      padding:20px 0;
      border-top:1px solid var(--border);
    }

    /* MOBILE */
    @media (max-width: 640px){
      .nav{
        padding:12px 12px;
        flex-direction:column;
        align-items:flex-start;
      }
      .brand{ font-size:14px; }
      .links{
        width:100%;
        flex-wrap:wrap;
        overflow:visible;
        gap:8px;
      }
      .links a{
        padding:10px 12px;
        font-size:14px;
      }

      #aw-grid{
        width: calc(100% - 24px);
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap:12px;
        justify-content:stretch;
      }
      .aw-item{
        width:100%;
        height:auto;
        aspect-ratio:1/1;
      }
    }

    @media (max-width: 380px){
      #aw-grid{
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }
  </style>
</head>

<body>

<header id="siteHeader">
  <nav class="nav">
    <a class="brand" href="/">NIKITA KOTRELEV</a>
    <div class="links">
      <a href="/Video.html">Video</a>
      <a href="/Photos.html" aria-current="page">Photos</a>
      <a href="/Projects.html">Projects</a>
      <a href="/About me.html">About</a>
      <a href="Store.html">Store</a>
    </div>
  </nav>
</header>

<section>
  <div id="aw-grid">

    <div class="aw-item"><img src="img/FullSizeRender.jpeg" alt=""></div>
    <div class="aw-item"><img src="img/Kotrelev_Ganr_2.jpeg.jpg" alt=""></div>
    <div class="aw-item"><img src="img/Kotrelev_Pejzazh_23.jpeg.jpg" alt=""></div>
    <div class="aw-item"><img src="img/Kotrelev_Portret_25. jpeg.jpg" alt=""></div>
    <div class="aw-item"><img src="img/IMG_4058.jpeg" alt=""></div>
    <div class="aw-item"><img src="img/1.png" alt=""></div>
    <div class="aw-item"><img src="img/2.png" alt=""></div>
    <div class="aw-item"><img src="img/3.png" alt=""></div>
    <div class="aw-item"><img src="img/4.png" alt=""></div>

    <div class="aw-item"><img src="img/грузия первые дни _5.PNG" alt=""></div>
    <div class="aw-item"><img src="img/грузия первые дни _8.PNG" alt=""></div>

    <div class="aw-item"><img src="img/Имя документа hf_26.jpg" alt=""></div>
    <div class="aw-item"><img src="img/Имя документа hf_29.jpg" alt=""></div>

    <div class="aw-item"><img src="img/исландия маша.png" alt=""></div>

    <div class="aw-item"><img src="img/Франция 2022 500 евро.jpeg" alt=""></div>
    <div class="aw-item"><img src="img/франция 2023 350 евро.JPG" alt=""></div>

    <div class="aw-item"><img src="img/черногория 2024 300 е.JPG" alt=""></div>

    <div class="aw-item"><img src="img/DSC07474.jpg" alt=""></div>
    <div class="aw-item"><img src="img/DSCF2510.png" alt=""></div>

    <div class="aw-item"><img src="img/FullSizeRender (1).jpeg" alt=""></div>

    <div class="aw-item"><img src="img/FullSizeRender_4__1.jpg" alt=""></div>
    <div class="aw-item"><img src="img/FullSizeRender.jpg" alt=""></div>

    <div class="aw-item"><img src="img/IMG_1097.JPG" alt=""></div>
    <div class="aw-item"><img src="img/IMG_1465.JPG" alt=""></div>
    <div class="aw-item"><img src="img/IMG_1601.JPG" alt=""></div>
    <div class="aw-item"><img src="img/IMG_1889.jpg" alt=""></div>
    <div class="aw-item"><img src="img/IMG_1969.jpeg" alt=""></div>
    <div class="aw-item"><img src="img/IMG_2215.jpeg" alt=""></div>
    <div class="aw-item"><img src="img/IMG_3194.JPG" alt=""></div>
    <div class="aw-item"><img src="img/IMG_4058.jpeg" alt=""></div>

    <div class="aw-item"><img src="img/IMG_5192 2.jpg" alt=""></div>
    <div class="aw-item"><img src="img/IMG_5206.jpg" alt=""></div>

    <div class="aw-item"><img src="img/IMG_5352.png" alt=""></div>

    <div class="aw-item"><img src="img/IMG_5376 4.jpg" alt=""></div>

    <div class="aw-item"><img src="img/IMG_6038.jpg" alt=""></div>

    <div class="aw-item"><img src="img/IMG_8190.JPG" alt=""></div>
    <div class="aw-item"><img src="img/IMG_8328.jpeg" alt=""></div>

    <div class="aw-item"><img src="img/Kotrelev_Ganr_13.jpeg.jpg" alt=""></div>
    <div class="aw-item"><img src="img/Kotrelev_Ganr_14.jpeg.jpg" alt=""></div>

    <div class="aw-item"><img src="img/Kotrelev_Pejzazh_23.jpeg.jpg" alt=""></div>
    <div class="aw-item"><img src="img/Kotrelev_Pejzazh_24.jpeg.jpg" alt=""></div>

    <div class="aw-item"><img src="img/MagnoliaFilmLab287040.PNG" alt=""></div>

  </div>
</section>

<!-- LIGHTBOX (без кнопки ✕) -->
<div class="lightbox" id="lightbox" aria-hidden="true">
  <div class="lightbox__inner">
    <img id="lb-img" class="lightbox__img" alt="">
  </div>
</div>

<footer>
  © <span id="year"></span> Nikita Kotrelev
</footer>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();

  // ✅ make grid offset always correct (header height can change on mobile)
  (function(){
    const header = document.getElementById("siteHeader");
    if(!header) return;

    function setHeaderH(){
      const h = Math.ceil(header.getBoundingClientRect().height);
      document.documentElement.style.setProperty("--header-h", h + "px");
    }
    setHeaderH();
    window.addEventListener("resize", setHeaderH, { passive:true });
    window.addEventListener("orientationchange", setHeaderH, { passive:true });
  })();

  /* LIGHTBOX */
  const gridEl = document.getElementById("aw-grid");
  const lb = document.getElementById("lightbox");
  const lbImg = document.getElementById("lb-img");

  function openLB(src){
    lbImg.src = src;
    lb.setAttribute("aria-hidden","false");
    document.body.style.overflow = "hidden";
  }
  function closeLB(){
    lb.setAttribute("aria-hidden","true");
    document.body.style.overflow = "";
    lbImg.src = "";
  }

  // open
  gridEl.addEventListener("click", (e)=>{
    const img = e.target.closest("img");
    if(!img) return;
    openLB(img.src);
  });

  // close by clicking image (second click)
  lbImg.addEventListener("click", (e)=>{
    e.stopPropagation();
    closeLB();
  });

  // close by clicking overlay background
  lb.addEventListener("click", (e)=>{
    if(e.target === lb) closeLB();
  });

  // close by Esc
  document.addEventListener("keydown", (e)=>{
    if(e.key === "Escape") closeLB();
  });
</script>

</body>
</html>
