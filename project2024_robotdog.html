<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>France</title>
  <meta name="description" content="France 2024 — urban cinematography study by Nikita Kotrelev." />
  <link rel="icon" href="img/pag 5.png" type="image/png">

  <style>
    :root{
      --bg:#0b0b0b;
      --fg:#fafafa;
      --muted:#a1a1aa;
      --card:#111113;
      --border:#242428;
      --radius:16px;
      --space:24px;
      --safe-top:max(env(safe-area-inset-top),0px);
      --safe-bot:max(env(safe-area-inset-bottom),0px);
      --header-h:64px;
    }

    @font-face{
      font-family:'Afacad Flux';
      src: local('Afacad Flux Regular'),
           url('fonts/AfacadFlux-Regular.woff2') format('woff2'),
           url('fonts/AfacadFlux-Regular.woff') format('woff');
      font-weight:400;
      font-display:swap;
    }

    html,body{height:100%}
    html{color-scheme:dark}

    body{
      margin:0;
      font-family:'Afacad Flux',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial,sans-serif;
      background:var(--bg);
      color:var(--fg);
      min-height:100dvh;
      display:grid;
      grid-template-rows:auto 1fr auto;
      -webkit-tap-highlight-color:transparent;
    }

    /* ===== Header ===== */
    header{
      position:fixed;
      top:0; left:0; right:0;
      z-index:60;
      padding-top:var(--safe-top);
      height:var(--header-h);
      backdrop-filter:saturate(180%) blur(8px);
      background:linear-gradient(180deg, rgba(11,11,11,.76), rgba(11,11,11,.3), rgba(11,11,11,0));
      border-bottom:1px solid var(--border);
      box-sizing:border-box;
    }

    .nav{
      max-width:1200px;
      margin:0 auto;
      padding:12px 24px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      box-sizing:border-box;
      width:100%;
    }

    .brand{
      color:var(--fg);
      font-weight:600;
      text-decoration:none;
      letter-spacing:.08em;
      white-space:nowrap;
      flex:0 0 auto;
    }

    .links{
      display:flex;
      gap:10px;
      overflow-x:auto;
      overscroll-behavior-inline:contain;
      scrollbar-width:none;
      max-width:100%;
    }
    .links::-webkit-scrollbar{ display:none; }

    .links a{
      color:var(--fg);
      text-decoration:none;
      opacity:.9;
      padding:8px 12px;
      border-radius:999px;
      font-size:14px;
      white-space:nowrap;
      flex:0 0 auto;
    }

    .links a:hover{opacity:1;background:rgba(255,255,255,.05);}
    .links a[aria-current="page"]{background:rgba(255,255,255,.12);}

    /* ===== Hero ===== */
    .hero{
      padding-top:calc(var(--header-h) + 60px);
      padding-bottom:20px;
      text-align:center;
      max-width:900px;
      margin:0 auto;
      padding-inline:24px;
      box-sizing:border-box;
    }

    .hero h1{
      font-size:clamp(32px,6vw,56px);
      margin:0 0 12px;
      font-weight:700;
    }

    .hero p{
      color:var(--muted);
      font-size:18px;
      margin:0;
    }

    /* ===== About ===== */
    .about{
      max-width:800px;
      margin:40px auto;
      padding:24px;
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius);
      text-align:center;
      box-sizing:border-box;
    }

    .about h3{
      margin:0 0 12px;
      font-size:22px;
    }

    .about p{
      color:var(--muted);
      font-size:17px;
      line-height:1.7;
      margin:0 auto;
      max-width:600px;
    }

    /* ===== Masonry Gallery ===== */
    .masonry{
      column-count:3;
      column-gap:18px;
      max-width:1320px;
      margin:0 auto 80px;
      padding:0 24px;
      box-sizing:border-box;
    }

    figure{
      break-inside:avoid;
      margin:0 0 18px;
      border-radius:0;
      overflow:hidden;
      cursor:pointer;
      border:1px solid var(--border);
      background:#000;
      transition:transform .25s ease, box-shadow .25s ease;
    }

    figure:hover{
      transform:translateY(-4px);
      box-shadow:0 12px 32px rgba(0,0,0,.55);
    }

    img{
      width:100%;
      display:block;
      height:auto;
    }

    figcaption{
      padding:10px 12px;
      font-weight:700;
      font-size:16px;
      color:var(--fg);
      letter-spacing:0.02em;
    }

    figure.portrait{ margin-bottom:26px; }
    figure.landscape{ margin-bottom:18px; }

    /* ===== Lightbox (toggle, centered) ===== */
    .lightbox{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.92);
      display:none;
      z-index:200;

      /* ✅ центрируем, как на island */
      align-items:center;
      justify-content:center;
      padding: calc(16px + var(--safe-top)) 16px calc(16px + var(--safe-bot));
      box-sizing:border-box;
    }
    .lightbox[aria-hidden="false"]{ display:flex; }

    .lightbox__inner{
      width:100%;
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .lightbox__img{
      max-width:94vw;
      max-height:88vh;
      width:auto;
      height:auto;
      object-fit:contain;
      display:block;
      cursor:pointer; /* ✅ тап по картинке закрывает */
    }

    /* ❌ убрали крестик */
    .lightbox__close{ display:none !important; }

    /* ===== Footer ===== */
    footer{
      border-top:1px solid var(--border);
      color:var(--muted);
      padding:24px;
      padding-bottom: calc(24px + var(--safe-bot));
      box-sizing:border-box;
    }
    footer .row{
      max-width:1200px;
      margin:0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:0 24px;
      box-sizing:border-box;
    }

    @media(max-width:880px){
      .masonry{column-count:2; padding:0 16px;}
    }
    @media(max-width:560px){
      .masonry{column-count:1; padding:0 12px;}
    }

    /* ✅ MOBILE NAV FIX (как в island.html) */
    @media (max-width: 640px){
      :root{ --header-h:auto; }

      header{
        position: sticky;
        top: 0;
        height: auto;
        padding-bottom: 10px;
      }

      .nav{
        padding: 12px 12px;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        gap: 10px;
      }

      .brand{ font-size: 14px; }

      .links{
        width: 100%;
        flex-wrap: wrap;
        overflow: visible;
        gap: 8px;
      }

      .links a{
        padding: 10px 12px;
        font-size: 14px;
      }

      .hero{
        padding-top: 18px;
        padding-inline: 12px;
        text-align: left;
      }

      .about{
        margin:24px 12px;
        padding:18px;
        text-align:left;
      }
      .about p{ font-size:15px; }

      footer{ padding:20px 12px calc(20px + var(--safe-bot)); }
      footer .row{ padding:0 12px; }
    }

    @media (prefers-reduced-motion: reduce){
      figure:hover{ transform:none; }
    }
  </style>
</head>

<body>

<header>
  <nav class="nav">
    <a class="brand" href="index.html">NIKITA KOTRELEV</a>
    <div class="links">
      <a href="Video.html">Video</a>
      <a href="Photos.html">Photos</a>
      <a href="Projects.html" aria-current="page">Projects</a>
      <a href="About me.html">About</a>
      <a href="Store.html">Store</a>
    </div>
  </nav>
</header>

<section class="hero">
  <h1>France</h1>
  <p>Urban cinematography and photography study</p>
</section>

<section class="about">
  <h3>About the project</h3>
  <p>
    The series blends street photography and cinematic dynamics. A study of light, geometry, and motion.
  </p>
</section>

<!-- ===== Gallery ===== -->
<section class="masonry" id="gallery">
  <figure><img src="img/FullSizeRender.jpg" alt=""><figcaption>Paris 2023</figcaption></figure>
  <figure><img src="img/Имя документа hf_29.jpg" alt=""><figcaption>Oléron Island 2022</figcaption></figure>
  <figure><img src="img/Франция 2022 500 евро.jpeg" alt=""><figcaption>Brittany 2023</figcaption></figure>
  <figure><img src="img/Имя документа hf_26.jpg" alt=""><figcaption>Oléron Island 2022</figcaption></figure>
</section>

<!-- LIGHTBOX (без крестика) -->
<div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="lightbox__inner">
    <img id="lb-img" class="lightbox__img" alt="">
  </div>
</div>

<footer>
  <div class="row">
    <span>© <span id="year"></span> Nikita Kotrelev</span>
  </div>
</footer>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();

  // AUTO ORIENTATION DETECTION
  document.querySelectorAll(".masonry figure img").forEach(img => {
    img.onload = () => {
      const fig = img.closest("figure");
      if (!fig) return;
      if (img.naturalWidth > img.naturalHeight) fig.classList.add("landscape");
      else fig.classList.add("portrait");
    };
  });

  // ✅ LIGHTBOX TOGGLE (как в island.html)
  (function(){
    const lb = document.getElementById("lightbox");
    const lbImg = document.getElementById("lb-img");
    const gallery = document.getElementById("gallery");
    if(!lb || !lbImg || !gallery) return;

    let isOpen = false;
    let currentSrc = "";

    function openLB(src){
      currentSrc = src || "";
      lbImg.src = currentSrc;
      lb.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
      isOpen = true;
    }

    function closeLB(){
      lb.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
      lbImg.src = "";
      currentSrc = "";
      isOpen = false;
    }

    function toggleLB(src){
      if(isOpen && src && src === currentSrc) closeLB();
      else openLB(src);
    }

    gallery.addEventListener("click", (e) => {
      const img = e.target.closest("img");
      if (!img) return;
      toggleLB(img.src);
    });

    // close on overlay
    lb.addEventListener("click", (e) => {
      if (e.target === lb) closeLB();
    });

    // ✅ close on clicking the big image
    lbImg.addEventListener("click", closeLB);

    // close on Esc
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && lb.getAttribute("aria-hidden") === "false") closeLB();
    });
  })();
</script>

</body>
</html>
